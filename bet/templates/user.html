{% extends "base.html" %}

{% block app_content %}
<div class="profile-card">
    <div class="profile-container">
        <div class="profile-image">
            {% if user.profile_photo %}
            <img class="image-post img-responsive"
                src="{{ url_for('main.show_post_image', username=user.username) }}" type="image/png">
            {% else %}
            <img src="{{ user.avatar(256) }}">
            {% endif %}
        </div>
    </div>
        <div class="profile-info">
            <h1 class="profile-username">{{ _('User') }}: {{ user.username }}</h1>
            {% if user.about_me %}
            <p class="profile-about">{{ user.about_me }}</p>
            {% endif %}
            {% if user.last_seen %}
            <p class="profile-last-seen">{{ _('Ãšltima vez online:') }}: {{ moment(user.last_seen).format('LLL') }}</p>
            {% endif %}
            <p class="profile-followers">{{ _('%(count)d  seguidores', count=user.followers.count()) }}, {{ _('%(count)d seguindo', count=user.followed.count()) }}</p>
            {% if user == current_user %}
            <p><a href="{{ url_for('main.edit_profile') }}" class="profile-edit-link">{{ _('Edite seu perfil') }}</a></p>
            {% elif not current_user.is_following(user) %}
            <form action="{{ url_for('main.follow', username=user.username) }}" method="post">
                {{ form.hidden_tag() }}
                <button type="submit" class="btn btn-default profile-follow-btn">{{ _('Seguir') }}</button>
            </form>
            {% else %}
            <form action="{{ url_for('main.unfollow', username=user.username) }}" method="post">
                {{ form.hidden_tag() }}
                <button type="submit" class="btn btn-default profile-unfollow-btn">{{ _('Deixar de seguir') }}</button>
            </form>
            {% endif %}
        </div>
    </div>
</div>



<style>
.profile-card {
    background-color: #ffffff;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
    padding: 20px;
    border-radius: 5px;
}

.profile-container {
    display: flex;
    align-items: center;
}

.profile-image {
    width: 100px;
    height: 100px;
    margin-right: 20px;
    border-radius: 50%;
    overflow: hidden;
}

.profile-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.profile-info {
    flex: 1;
}

.profile-username {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 10px;
}

.profile-about {
    margin-bottom: 10px;
}

.profile-last-seen {
    margin-bottom: 10px;
}

.profile-followers {
    margin-bottom: 10px;
}

.profile-edit-link {
    display: block;
    margin-bottom: 10px;
    color: #007bff;
    text-decoration: none;
}

.profile-follow-btn,
.profile-unfollow-btn {
    margin-top: 5px;
}



</style>

    {% for post in posts %}
        {% include '_post.html' %}
    {% endfor %}
   <!--  <nav aria-label="...">
        <ul class="pager">
            <li class="previous{% if not prev_url %} disabled{% endif %}">
                <a href="{{ prev_url or '#' }}">
                    <span aria-hidden="true">&larr;</span> {{ _('Newer posts') }}
                </a>
            </li>
            <li class="next{% if not next_url %} disabled{% endif %}">
                <a href="{{ next_url or '#' }}">
                    {{ _('Older posts') }} <span aria-hidden="true">&rarr;</span>
                </a>
            </li>
        </ul>
    </nav> -->
{% endblock %}
